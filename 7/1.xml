<?xml version="1.0" encoding="UTF-8" ?>
<document>
<text>Триггер - это управляемое событиями действие, которое запускается автоматически, когда указанная операция изменения (оператор INSERT, UPDATE и DELETE) выполняется над указанной таблицей. Триггеры полезны для таких задач, как обеспечение соблюдения бизнес-правил, проверка входных данных и ведение контрольного журнала.
</text>
<title>Создание триггеров</title>
<text>Общий синтаксис для создания триггеров выглядит следующим образом:</text>
<picture>CREATETRIGGER.png</picture>
<text>Таким образом, мы видим в схеме что можем создать триггеры на выполнение команд INSERT, UPDATE и DELETE. Но также мы можем выбирать момент времени, то есть перед выполнением команды - BEFORE, после - AFTER или вместо операции - INSTED OF.
</text>
<subtitle>INSERT</subtitle>
<text>Пример триггера, который будет срабатывать после вставки данных в таблицу:</text>
<code>CREATE TRIGGER aft_insert AFTER INSERT ON orders
BEGIN
UPDATE products SET quantity = quantity - NEW.quantity;
END;</code>
<text>При оформлении заказа, то есть при добавлении строки в таблицу orders количество товара на складе будет уменьшаться, то есть мы уменьшаем значение столбца quantity на количество товара в заказе.</text>
<title>Удаление триггеров</title>
<picture>DROPTRIGGER.png</picture>
</document>
